// MyActor.h

#pragma once

#include "CoreMinimal.h"
#include "GameFramework/Actor.h"
#include "MyActor.generated.h"

UCLASS()
class FIVE_HEEMIN_API AMyActor : public AActor
{
	GENERATED_BODY()
	
public:	
	// Sets default values for this actor's properties
	AMyActor();
	void move();
	int step();


protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;

public:	
	// Called every frame
	virtual void Tick(float DeltaTime) override;

};


//MyActor.cpp

#include "MyActor.h"
#include "CoreMinimal.h"
#include "Math/UnrealMathUtility.h"

// Sets default values
AMyActor::AMyActor()
{
 	// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don't need it.
	PrimaryActorTick.bCanEverTick = true;

}

// Called when the game starts or when spawned
void AMyActor::BeginPlay()
{
    Super::BeginPlay();

    move();

}

// Called every frame
void AMyActor::Tick(float DeltaTime)
{
    Super::Tick(DeltaTime);

}

void AMyActor::move()
{
    int x = 0;  // (0.0) 좌표 
    int y = 0;  // (0,0) 좌표

    UE_LOG(LogTemp, Warning, TEXT(" Location : (%d,.%d) "), x, y);

    //랜덤하게 10회 이동 = 무브 10번 이동 + 스텝 랜덤하게 0~1걸음 이동
    for (int i = 0; i < 10; i++)
    {
        // 각 스템에서 거쳐간 좌표 모두 출력 (x + step 리턴값 , y + step 리턴값)


        int ax = step();// 0 또는 1
        int ay = step();// 0 또는 1

        x = x + ax; // x에 0 또는 1 누적
        y = y + ay; // y에 0 또는 1 누적





        UE_LOG(LogTemp, Warning, TEXT(" Move Location : (%d,.%d) "), x, y); // 누적 출력
    }

}

int AMyActor::step() // x좌표, y좌표가 이동 할 거리 0~1까지
{

    return FMath::RandRange(0, 1);  

}
